# 料金変更手順書（詳細版・実例付き）

このファイルでは、具体的な変更例を示しながら、料金変更の手順を詳しく説明します。

## 📝 変更例：スタンダードプランを ¥15,000 → ¥18,000 に変更

### 1. apps/frontend/app/page.tsx の変更

**変更前**:
```tsx
{/* Hero Section */}
<section className="relative min-h-screen flex items-center justify-center bg-gradient-to-b from-black via-gray-900 to-black overflow-hidden">
  {/* 料金表示部分 */}
  <div className="text-center">
    <div className="text-4xl font-bold text-white mb-2">¥15,000</div>
    <div className="text-gray-300 text-sm">月額</div>
  </div>
</section>
```

**変更後**:
```tsx
{/* Hero Section */}
<section className="relative min-h-screen flex items-center justify-center bg-gradient-to-b from-black via-gray-900 to-black overflow-hidden">
  {/* 料金表示部分 */}
  <div className="text-center">
    <div className="text-4xl font-bold text-white mb-2">¥18,000</div>  {/* ← ここを変更 */}
    <div className="text-gray-300 text-sm">月額</div>
  </div>
</section>
```

### 2. apps/frontend/components/subscription/PricingPlans.tsx の変更

**変更前**:
```tsx
const plans = [
  {
    name: 'スタンダードプラン',
    price: '¥15,000',
    originalPrice: '¥25,000',
    period: '月額',
    description: '基本的なFXトレード講習が受けられるプランです',
    features: [
      '基本講習動画へのアクセス',
      'チャットサポート',
      '月次レポート',
      'ベーシック分析ツール'
    ],
    paypalLink: 'https://www.paypal.com/webapps/billing/plans/subscribe?plan_id=P-8PD885481X888505ENAAKQAQ',
    popular: false
  },
  // ... プレミアムプランの設定
]
```

**変更後**:
```tsx
const plans = [
  {
    name: 'スタンダードプラン',
    price: '¥18,000',  // ← ここを変更
    originalPrice: '¥28,000',  // ← 元値も合わせて変更（オプション）
    period: '月額',
    description: '基本的なFXトレード講習が受けられるプランです',
    features: [
      '基本講習動画へのアクセス',
      'チャットサポート', 
      '月次レポート',
      'ベーシック分析ツール'
    ],
    paypalLink: 'https://www.paypal.com/webapps/billing/plans/subscribe?plan_id=P-NEW123456789ABCDEF',  // ← 新しいPayPal plan_idに変更
    popular: false
  },
  // ... プレミアムプランの設定
]
```

### 3. CLAUDE.md の変更

**変更前**:
```markdown
## 💳 PayPal決済リンク
- **スタンダードプラン (¥15,000)**: https://www.paypal.com/webapps/billing/plans/subscribe?plan_id=P-8PD885481X888505ENAAKQAQ
- **プレミアムプラン (¥40,000)**: https://www.paypal.com/webapps/billing/plans/subscribe?plan_id=P-6NX871965X4205206NAAKOJI
```

**変更後**:
```markdown
## 💳 PayPal決済リンク
- **スタンダードプラン (¥18,000)**: https://www.paypal.com/webapps/billing/plans/subscribe?plan_id=P-NEW123456789ABCDEF
- **プレミアムプラン (¥40,000)**: https://www.paypal.com/webapps/billing/plans/subscribe?plan_id=P-6NX871965X4205206NAAKOJI
```

---

## 🔧 ファイルの編集方法

### VSCode（推奨エディタ）での編集手順

1. **VSCodeを開く**
   - VSCodeを起動
   - 「ファイル」→「フォルダーを開く」
   - `tiger-dojo` フォルダを選択

2. **ファイルを開く**
   - 左のエクスプローラーから対象ファイルをクリック
   - 例：`apps` → `frontend` → `app` → `page.tsx`

3. **文字列を検索**
   - `Ctrl + F`（Windows）または `Cmd + F`（Mac）
   - 検索ボックスに現在の金額（例：`¥15,000`）を入力

4. **編集**
   - 該当箇所をクリックして選択
   - 新しい金額を入力

5. **保存**
   - `Ctrl + S`（Windows）または `Cmd + S`（Mac）

### メモ帳での編集（Windows）

1. **ファイルを開く**
   - エクスプローラーでファイルの場所に移動
   - ファイルを右クリック→「プログラムから開く」→「メモ帳」

2. **文字列を検索**
   - `Ctrl + F` で検索ダイアログを開く
   - 現在の金額を検索

3. **編集・保存**
   - 該当箇所を変更
   - `Ctrl + S` で保存

---

## 📋 PayPal プラン作成の詳細手順

### 1. PayPal Business 管理画面にログイン
1. https://www.paypal.com/businessmanage/account/ にアクセス
2. PayPal Business アカウントでログイン
3. ダッシュボードが表示されることを確認

### 2. 定期支払いプランを作成
1. **メニューから選択**
   - 左メニューまたは上部メニューから「商品とサービス」をクリック
   - 「定期支払い」を選択

2. **新しいプランを作成**
   - 「プランを作成」ボタンをクリック
   - プラン詳細を入力：
     - **プラン名**: 「FXトレード道場 スタンダードプラン」
     - **説明**: 「月額¥18,000のスタンダードプラン」
     - **料金**: ¥18,000
     - **請求サイクル**: 月次（毎月）
     - **無料試用期間**: なし（または必要に応じて設定）

3. **プラン作成を完了**
   - 「プランを作成」ボタンをクリック
   - プラン一覧に新しいプランが表示されることを確認

### 3. 決済リンクの取得
1. **作成したプランを選択**
   - プラン一覧から新しく作成したプランをクリック

2. **リンクを取得**
   - 「共有」または「リンクを取得」ボタンをクリック
   - 表示されるURLをコピー
   - 例：`https://www.paypal.com/webapps/billing/plans/subscribe?plan_id=P-1A123456B7890123C`

### 4. 古いプランの無効化（重要）
1. **古いプランを選択**
   - プラン一覧から古いプランをクリック

2. **プランを無効化**
   - 「プランを無効化」または「停止」をクリック
   - これにより新規申し込みを停止できます

---

## 🧪 テスト手順

### 1. 開発環境でのテスト
```bash
# プロジェクトルートで実行
npm run dev
```

### 2. 表示確認
- http://localhost:3000 にアクセス
- トップページの料金表示を確認
- 料金プランページ（通常は /pricing）で料金を確認

### 3. PayPalリンクのテスト
- 「今すぐ申し込む」ボタンをクリック
- PayPalの正しいページに移動することを確認
- **注意**: 実際の決済は行わず、ページ移動のみ確認

### 4. エラーチェック
- ブラウザで F12 キーを押して開発者ツールを開く
- コンソールタブでエラーメッセージがないか確認

---

## 🚨 よくあるエラーと対処法

### エラー1: 構文エラー
```
SyntaxError: Unexpected token
```
**原因**: カンマやクォートの記述ミス
**対処法**: 
- 変更した行の前後をチェック
- カンマ（,）が抜けていないか確認
- クォート（' または "）が正しく閉じられているか確認

### エラー2: ページが真っ白になる
**原因**: JSXの構文エラー
**対処法**:
- ブラウザのコンソールでエラーメッセージを確認
- 変更を元に戻して、再度慎重に編集

### エラー3: PayPalリンクが動かない
**原因**: PayPal plan_id が無効
**対処法**:
- PayPalの管理画面でプランが有効になっているか確認
- plan_id が正しくコピーされているか確認

---

## 📁 バックアップファイルの作成方法

変更前に必ずバックアップを作成しましょう：

### 方法1: ファイルコピー
```bash
# 変更前にファイルをコピー
cp apps/frontend/app/page.tsx apps/frontend/app/page.tsx.backup
cp apps/frontend/components/subscription/PricingPlans.tsx apps/frontend/components/subscription/PricingPlans.tsx.backup
```

### 方法2: フォルダ全体のコピー（推奨）
```bash
# プロジェクト全体をバックアップ
cp -r tiger-dojo tiger-dojo-backup-$(date +%Y%m%d)
```

---

## 📞 緊急時の連絡先

変更で問題が発生した場合：

1. **まず試すこと**
   - バックアップファイルから復元
   - 開発サーバーを再起動（Ctrl+C → npm run dev）

2. **それでも解決しない場合**
   - エラーメッセージをスクリーンショット
   - 何を変更したかメモ
   - 開発者に連絡

---

**作成日**: 2025年9月17日  
**バージョン**: 1.0  
**対象**: プログラム初心者〜中級者